javascript:
!function(){const c=new Set;let e=document.querySelector("#gdf");if(!e){let t,a;document.head.append(document.createRange().createContextualFragment("<style>.header .container{position:relative}#gdf{box-sizing:border-box;width:180px;padding:.5em 1em;position:absolute;top:-4px;left:1000px;z-index:1;background:rgba(0,0,0,0.6);box-shadow:-4px 5px 0 0 rgba(0,0,0,0.2);text-shadow:none}#gdf-title{margin-bottom:8px;color:#FFF;font-size:2em}#gdf label{color:#EEE}#gdf-hide-input{width:100px;min-height:26px;padding:3px 8px;margin-top:4px}#gdf-hide-btn{margin-top:4px}#gdf-show-all-btn{width:100px;margin:8px 0 4px;font-weight:normal}#gdf-show-all-btn:disabled{background:#CCC;color:#999}#gdf-close-btn{padding:4px 0;margin:8px 4px 0;float:right;color:#7FB8E6;cursor:pointer}</style>")),document.querySelector(".toc-diff-stats").append(document.createRange().createContextualFragment('<div id="gdf"> <div id="gdf-title">Filter this Diff</div> <label> Hide file paths matching <input id="gdf-hide-input" type="text" placeholder=".css,.min"> </label> <a id="gdf-hide-btn" class="minibutton">Hide</a> <button id="gdf-show-all-btn" class="minibutton" disabled>Show all files</button> <a id="gdf-close-btn">close</a> </div> ')),e=document.querySelector("#gdf"),document.querySelector("#gdf-hide-btn").addEventListener("click",r),document.querySelector("#gdf-close-btn").addEventListener("click",function(){e.hidden=!0}),(t=document.querySelector("#gdf-hide-input")).addEventListener("keyup",n),(a=document.querySelector("#gdf-show-all-btn")).addEventListener("click",u),document.querySelectorAll(".file-info").forEach(e=>{e.after(document.createRange().createContextualFragment('<label   class="js-reviewed-toggle ml-2 mr-1 px-2 py-1 rounded-2 f6 text-normal d-flex flex-items-center border js-reviewed-file color-bg-accent color-border-accent"   style="cursor: pointer" >   <input class="mr-1 js-reviewed-checkbox" type="checkbox"   />   Viewed </label> '))}),document.querySelector(".js-diff-progressive-container").addEventListener("change",e=>{e.target.classList.contains("js-reviewed-checkbox")&&e.target.closest("[data-details-container-group]").classList.contains("open")===e.target.checked&&e.target.parentElement.previousSibling.querySelector("button")?.click()});{const h=document.createElement("ul");[...new Set([...document.querySelectorAll("[data-tagsearch-path]")].map(e=>e.attributes["data-tagsearch-path"].value).map(e=>e.split("/")[0]))].map(e=>e+"/*").forEach(e=>{h.append(document.createRange().createContextualFragment('<labels   class="js-reviewed-toggle ml-2 mr-1 px-2 py-1 rounded-2 f6 text-normal d-flex flex-items-center border js-reviewed-file color-bg-accent color-border-accent"   style="cursor: pointer" >   <input class="mr-1 js-reviewed-checkbox" type="checkbox" value="{{Path}}" checked="checked"   />   {{Path}} </label> '.replaceAll("{{Path}}",e)))}),document.querySelector("#toc").after(h),h.addEventListener("click",e=>{"LABELS"===e.target.nodeName&&e.target.querySelector("input").click()}),h.addEventListener("change",e=>{var t,a,c=e.target.value;e.target.checked?(t=e=l(e=c),[...document.querySelectorAll('#toc a[href^="#diff"]')].filter(e=>e.textContent.match(t)).map(e=>e.closest("li")).forEach(s),a=e,[...document.querySelectorAll("[data-tagsearch-path]")].filter(e=>e.attributes["data-tagsearch-path"]?.value.match(a)).forEach(s),d()):o(c)})}function n(e){"Enter"===e.key&&r()}function r(){var e=t.value;""!==e&&(e.split(",").forEach(o),a.disabled=!1,t.value="",t.focus())}function o(e){var t,a,e=l(e);t=e,[...document.querySelectorAll('#toc a[href^="#diff"]')].filter(e=>e.textContent.match(t)).map(e=>e.closest("li")).forEach(i),a=e,[...document.querySelectorAll("[data-tagsearch-path]")].filter(e=>e.attributes["data-tagsearch-path"]?.value.match(a)).forEach(i),d()}function d(){var e=document.querySelectorAll("[data-tagsearch-path]:not([hidden])").length;const t=document.querySelector(".toc-diff-stats>button");t.textContent=e+" changed files"}function l(e){return`^${e.replace(/[-\/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*").replace(/\*/g,".*")}$`}function i(e){c.has(e)||(e.hidden=!0,c.add(e))}function s(e){c.has(e)&&(e.hidden=!1,c.delete(e))}function u(){c.forEach(e=>e.hidden=!1),c.clear(),a.disabled=!0}}e.hidden=!0}();